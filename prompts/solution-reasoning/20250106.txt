Request
มีfunction format_number ที่เขียนด้วยภาษา python เพื่อจัดรูปแบบข้อความของตัวเลขให้อยู่ในข้อความในรูปแบบ #,###.## โดยที่มีทศนิยม 2 ตำแหน่งเสมอ

จงอธิบายว่า วิเคราะห์ว่าการใช้งานนี้ function นี้มีขั้นตอนในการทำงาน และผลลัพธ์เป็นอย่างไร
format_number(123456) และ format_number(-123456.7)

def format_number(number: float) -> str:
    if number is None:
        return ""
    return f"{number:,.2f}"

รูปแบบของผลลัพธ์ที่ต้องการคือ
คำนำ (intrduction), ส่วนวิเคราะห์ และ ผลลัพธ์ และ สรุปท้าย

Response
คำนำ
function format_number ที่สร้างด้วยภาษา Python นี้ถูกสร้างเพื่อจัดรูปแบบตัวเลขให้มีจุลภาคสำหรับแยกหลักพัน และ แสดงทศนิยม 2 ตำแหน่งเสมอ

ส่วนวิเคราะห์
ฟังก์ชัน format_number เป็นการจัดรูปแบบตัวเลขแล้วแสดงเป็นข้อความตามรูปแบบที่กำหนดโดย:
ตรวจสอบว่าค่าที่รับมา number ไม่ใช่ None ถ้าหากเป็น None จะผลลัพธ์เป็นค่าว่าง
ใช้ f-string ใน Python เพื่อจัดรูปแบบและแสดงผลตัวเลข โดยมีรูปแบบของผลลัพธ์คือ f"{number:,.2f}" ซึ่งสามารถอธิบายได้ดังนี้:

:, - ใช้ในการแสดงจุลภาคคั่นหลักพัน
.2f - ใช้ในการกำหนดให้แสดงทศนิยม 2 ตำแหน่งเสมอ

ผลลัพธ์
การใช้ฟังก์ชัน format_number กับข้อมูลตัวเลขสองชุดตามตัวอย่าง ได้ผลลัพธ์ดังนี้:
format_number(123456)
ตัวเลข 123456 จะถูกจัดรูปแบบเป็น 123,456.00
มีการเพิ่มจุลภาคคั่นหลักพันเป็นตัวช่วยในการอ่าน และเติม .00 เพื่อให้เป็นจำนวนทศนิยม 2 ตำแหน่ง
format_number(-123456.7)
ตัวเลข -123456.7 จะถูกจัดรูปแบบเป็น -123,456.70
มีจุลภาคแยกหลักพัน และปรับทศนิยมเป็น .70 เพื่อให้เป็นทศนิยม 2 ตำแหน่ง

สรุป
ฟังก์ชัน format_number เป็นเครื่องมือที่มีประโยชน์สำหรับการจัดรูปแบบตัวเลขให้มีมาตรฐาน ด้วยการใช้คุณสมบัติของ f-string ใน Python ที่สามารถกำหนดรูปแบบการแสดงผลได้อย่างยืดหยุ่นและง่ายดาย ผลลัพธ์ที่ได้จากการจัดรูปแบบช่วยให้การอ่านค่าตัวเลขเป็นไปอย่างชัดเจนและทำให้ข้อมูลดูเป็นระเบียบมากยิ่งขึ้น